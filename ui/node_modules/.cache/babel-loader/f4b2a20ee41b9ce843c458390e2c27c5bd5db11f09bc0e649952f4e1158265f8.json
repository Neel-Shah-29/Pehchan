{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useFileUpload = void 0;\nconst react_1 = require(\"react\");\n/**\r\n * @function formatBytes\r\n */\nconst formatBytes = function (bytes) {\n  let decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  if (typeof bytes !== 'number') return 'n/a';\n  if (bytes === 0) return '0 Bytes';\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n};\n/**\r\n * @function getTotalSizeInBytes\r\n */\nconst getTotalSizeInBytes = files => {\n  return files.reduce((acc, file) => acc += file.size, 0);\n};\n/**\r\n * @function handleDragDropEvent\r\n */\nconst handleDragDropEvent = e => {\n  e.stopPropagation();\n  e.preventDefault();\n};\n/**\r\n * @ReactHook\r\n */\nconst useFileUpload = () => {\n  const [files, setFilesState] = (0, react_1.useState)([]);\n  const [fileNames, setFileNames] = (0, react_1.useState)([]);\n  const [fileTypes, setFileTypes] = (0, react_1.useState)([]);\n  const [totalSize, setTotalSize] = (0, react_1.useState)('');\n  const [totalSizeInBytes, setTotalSizeInBytes] = (0, react_1.useState)(0);\n  (0, react_1.useEffect)(() => {\n    setFileNames(files.map(file => file.name));\n    setFileTypes(files.map(file => file.type));\n    handleSizes(files);\n  }, [files]);\n  /** @function setFiles */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const setFiles = (0, react_1.useCallback)(function (e) {\n    let mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'w';\n    var _a;\n    let filesArr = [];\n    if ((_a = e.currentTarget) === null || _a === void 0 ? void 0 : _a.files) {\n      filesArr = Array.from(e.currentTarget.files);\n    } else if (e === null || e === void 0 ? void 0 : e.dataTransfer.files) {\n      filesArr = Array.from(e.dataTransfer.files);\n    } else {\n      console.error('Argument not recognized. Are you sure your passing setFiles an event object?');\n    }\n    if (mode === 'w') {\n      setFilesState(filesArr);\n    } else if (mode === 'a') {\n      setFilesState([...files, ...filesArr]);\n    }\n  }, [files]);\n  /** @function handleSizes */\n  const handleSizes = (0, react_1.useCallback)(files => {\n    const sizeInBytes = getTotalSizeInBytes(files);\n    const prettySize = formatBytes(sizeInBytes);\n    setTotalSizeInBytes(sizeInBytes);\n    setTotalSize(prettySize);\n  }, []);\n  /** @function removeFile */\n  const removeFile = (0, react_1.useCallback)(file => {\n    if (typeof file !== 'number' && typeof file !== 'string') {\n      console.error('argument supplied to removeFile must be of type number or string.');\n      return;\n    }\n    if (typeof file === 'string') {\n      setFilesState(files.filter(_file => _file.name !== file));\n    } else {\n      setFilesState(files.filter((_file, i) => i !== file));\n    }\n  }, [files]);\n  /** @function clearAllFiles */\n  const clearAllFiles = (0, react_1.useCallback)(() => {\n    setFilesState([]);\n  }, []);\n  /** @function createFormData */\n  const createFormData = (0, react_1.useCallback)(() => {\n    const formData = new FormData();\n    for (const file of files) {\n      formData.append(file.name, file);\n    }\n    return formData;\n  }, [files]);\n  return {\n    files,\n    fileNames,\n    fileTypes,\n    totalSize,\n    totalSizeInBytes,\n    clearAllFiles,\n    createFormData,\n    handleDragDropEvent,\n    removeFile,\n    setFiles\n  };\n};\nexports.useFileUpload = useFileUpload;","map":{"version":3,"names":["Object","defineProperty","exports","value","useFileUpload","react_1","require","formatBytes","bytes","decimals","k","dm","sizes","i","Math","floor","log","parseFloat","pow","toFixed","getTotalSizeInBytes","files","reduce","acc","file","size","handleDragDropEvent","e","stopPropagation","preventDefault","setFilesState","useState","fileNames","setFileNames","fileTypes","setFileTypes","totalSize","setTotalSize","totalSizeInBytes","setTotalSizeInBytes","useEffect","map","name","type","handleSizes","setFiles","useCallback","mode","_a","filesArr","currentTarget","Array","from","dataTransfer","console","error","sizeInBytes","prettySize","removeFile","filter","_file","clearAllFiles","createFormData","formData","FormData","append"],"sources":["/home/neel/MightyDevs_Unscript-2023/ui/node_modules/react-use-file-upload/dist/lib/useFileUpload.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.useFileUpload = void 0;\r\nconst react_1 = require(\"react\");\r\n/**\r\n * @function formatBytes\r\n */\r\nconst formatBytes = (bytes, decimals = 2) => {\r\n    if (typeof bytes !== 'number')\r\n        return 'n/a';\r\n    if (bytes === 0)\r\n        return '0 Bytes';\r\n    const k = 1024;\r\n    const dm = decimals < 0 ? 0 : decimals;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\r\n};\r\n/**\r\n * @function getTotalSizeInBytes\r\n */\r\nconst getTotalSizeInBytes = (files) => {\r\n    return files.reduce((acc, file) => (acc += file.size), 0);\r\n};\r\n/**\r\n * @function handleDragDropEvent\r\n */\r\nconst handleDragDropEvent = (e) => {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n};\r\n/**\r\n * @ReactHook\r\n */\r\nconst useFileUpload = () => {\r\n    const [files, setFilesState] = (0, react_1.useState)([]);\r\n    const [fileNames, setFileNames] = (0, react_1.useState)([]);\r\n    const [fileTypes, setFileTypes] = (0, react_1.useState)([]);\r\n    const [totalSize, setTotalSize] = (0, react_1.useState)('');\r\n    const [totalSizeInBytes, setTotalSizeInBytes] = (0, react_1.useState)(0);\r\n    (0, react_1.useEffect)(() => {\r\n        setFileNames(files.map((file) => file.name));\r\n        setFileTypes(files.map((file) => file.type));\r\n        handleSizes(files);\r\n    }, [files]);\r\n    /** @function setFiles */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const setFiles = (0, react_1.useCallback)((e, mode = 'w') => {\r\n        var _a;\r\n        let filesArr = [];\r\n        if ((_a = e.currentTarget) === null || _a === void 0 ? void 0 : _a.files) {\r\n            filesArr = Array.from(e.currentTarget.files);\r\n        }\r\n        else if (e === null || e === void 0 ? void 0 : e.dataTransfer.files) {\r\n            filesArr = Array.from(e.dataTransfer.files);\r\n        }\r\n        else {\r\n            console.error('Argument not recognized. Are you sure your passing setFiles an event object?');\r\n        }\r\n        if (mode === 'w') {\r\n            setFilesState(filesArr);\r\n        }\r\n        else if (mode === 'a') {\r\n            setFilesState([...files, ...filesArr]);\r\n        }\r\n    }, [files]);\r\n    /** @function handleSizes */\r\n    const handleSizes = (0, react_1.useCallback)((files) => {\r\n        const sizeInBytes = getTotalSizeInBytes(files);\r\n        const prettySize = formatBytes(sizeInBytes);\r\n        setTotalSizeInBytes(sizeInBytes);\r\n        setTotalSize(prettySize);\r\n    }, []);\r\n    /** @function removeFile */\r\n    const removeFile = (0, react_1.useCallback)((file) => {\r\n        if (typeof file !== 'number' && typeof file !== 'string') {\r\n            console.error('argument supplied to removeFile must be of type number or string.');\r\n            return;\r\n        }\r\n        if (typeof file === 'string') {\r\n            setFilesState(files.filter((_file) => _file.name !== file));\r\n        }\r\n        else {\r\n            setFilesState(files.filter((_file, i) => i !== file));\r\n        }\r\n    }, [files]);\r\n    /** @function clearAllFiles */\r\n    const clearAllFiles = (0, react_1.useCallback)(() => {\r\n        setFilesState([]);\r\n    }, []);\r\n    /** @function createFormData */\r\n    const createFormData = (0, react_1.useCallback)(() => {\r\n        const formData = new FormData();\r\n        for (const file of files) {\r\n            formData.append(file.name, file);\r\n        }\r\n        return formData;\r\n    }, [files]);\r\n    return {\r\n        files,\r\n        fileNames,\r\n        fileTypes,\r\n        totalSize,\r\n        totalSizeInBytes,\r\n        clearAllFiles,\r\n        createFormData,\r\n        handleDragDropEvent,\r\n        removeFile,\r\n        setFiles,\r\n    };\r\n};\r\nexports.useFileUpload = useFileUpload;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}